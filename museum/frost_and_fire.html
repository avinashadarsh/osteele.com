<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">

<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1" />

<title>Oliver's Museum: Frost and Fire</title>

<link rel="stylesheet" href="http://www.osteele.com/styles-site.css" type="text/css" />
<link rel="alternate" type="application/rss+xml" title="RSS" href="http://www.osteele.com/index.rdf" />

<link rel="start" href="http://www.osteele.com/" title="Home" />
<link rel="prev" href="http://www.osteele.com/museum/quickdraw_gx.html" title="Quickdraw GX" />



<script type="text/javascript" language="javascript">
<!--

function OpenTrackback (c) {
    window.open(c,
                    'trackback',
                    'width=480,height=480,scrollbars=yes,status=yes');
}

var HOST = 'www.osteele.com';

// Copyright (c) 1996-1997 Athenia Associates.
// http://www.webreference.com/js/
// License is granted if and only if this entire
// copyright notice is included. By Tomer Shiran.

function setCookie (name, value, expires, path, domain, secure) {
    var curCookie = name + "=" + escape(value) + ((expires) ? "; expires=" + expires.toGMTString() : "") + ((path) ? "; path=" + path : "") + ((domain) ? "; domain=" + domain : "") + ((secure) ? "; secure" : "");
    document.cookie = curCookie;
}

function getCookie (name) {
    var prefix = name + '=';
    var c = document.cookie;
    var nullstring = '';
    var cookieStartIndex = c.indexOf(prefix);
    if (cookieStartIndex == -1)
        return nullstring;
    var cookieEndIndex = c.indexOf(";", cookieStartIndex + prefix.length);
    if (cookieEndIndex == -1)
        cookieEndIndex = c.length;
    return unescape(c.substring(cookieStartIndex + prefix.length, cookieEndIndex));
}

function deleteCookie (name, path, domain) {
    if (getCookie(name))
        document.cookie = name + "=" + ((path) ? "; path=" + path : "") + ((domain) ? "; domain=" + domain : "") + "; expires=Thu, 01-Jan-70 00:00:01 GMT";
}

function fixDate (date) {
    var base = new Date(0);
    var skew = base.getTime();
    if (skew > 0)
        date.setTime(date.getTime() - skew);
}

function rememberMe (f) {
    var now = new Date();
    fixDate(now);
    now.setTime(now.getTime() + 365 * 24 * 60 * 60 * 1000);
    setCookie('mtcmtauth', f.author.value, now, '', HOST, '');
    setCookie('mtcmtmail', f.email.value, now, '', HOST, '');
    setCookie('mtcmthome', f.url.value, now, '', HOST, '');
}

function forgetMe (f) {
    deleteCookie('mtcmtmail', '', HOST);
    deleteCookie('mtcmthome', '', HOST);
    deleteCookie('mtcmtauth', '', HOST);
    f.email.value = '';
    f.author.value = '';
    f.url.value = '';
}

//-->
</script>

<!--
<rdf:RDF xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#"
         xmlns:trackback="http://madskills.com/public/xml/rss/module/trackback/"
         xmlns:dc="http://purl.org/dc/elements/1.1/">
<rdf:Description
    rdf:about="http://www.osteele.com/museum/frost_and_fire.html"
    trackback:ping="http://www.osteele.com/mt/mt-tb.cgi/26"
    dc:title="Frost and Fire"
    dc:identifier="http://www.osteele.com/museum/frost_and_fire.html"
    dc:subject=""
    dc:description=" [This image is a still from the Corona animation. Reload this page with Java installed to see an original animation.] In 1989 I wrote a program that simulated video feedback to produce a pattern of reminiscent of paint swirling..."
    dc:creator="osteele"
    dc:date="2003-05-07T10:38:12-05:00" />
</rdf:RDF>
-->




</head>

<body>

<div id="banner">
<h1><a href="http://www.osteele.com/" accesskey="1">Oliver's Museum</a></h1>
<span class="description">Projects and artifacts.</span>
</div>

<div id="container">

<div class="blog">

<div id="menu">
<a href="http://www.osteele.com/museum/quickdraw_gx.html">&laquo; Quickdraw GX</a> |

<a href="http://www.osteele.com/">Main</a>

</div>

</div>


<div class="blog">

<div class="blogbody">

<h3 class="title">Frost and Fire</h3>

<p><applet ARCHIVE="applets/FrostAndFire.jar" CODE="edu.brandeis.cs.steele.applets.Corona.class" WIDTH="250" HEIGHT="250"><br />
<table WIDTH=150 BORDER=0 CELLPADDING=0 CELLSPACING=0><br />
<tr><td VALIGN=TOP ALIGN=CENTER><br />
<img SRC="images/corona-large.jpg" WIDTH="250" HEIGHT="250" ALT="[Large still from Corona animation.]"><br />
<caption ALIGN=BOTTOM STYLE="text-align: justify">[This image is a still from the Corona animation.  Reload this page with Java installed to see an original animation.]</caption><br />
</table><br />
</applet></p>

<p>In 1989 I wrote a program that simulated video feedback to produce a pattern of reminiscent of paint swirling on a spinning piece of paper.  This later shipped as a module for Berkeley System's "After Dark" screen saver.  The same effect (although doubtless not the same code) is used now as a visual effect in all the music managers --- iTunes, Media Player, and so on.</p>

<p>I originally wrote the program because I was working on a fast bitmap rotation algorithm for <a href="quickdraw_gx.html">Quickdraw GX</a>.  We were trying to get bitmap rotation working at reasonable speeds on the 68000 class of processors, with no hardware acceleration, at 20MHz.  I heard that a new company called Live Picture was displaying rotated images at interactive speeds, so I rethought our algorithms from the ground up and came up with an application of the Bresenham line algorithm, simultaneously computing coordinates along virtual lines in the two spaces defined by (sourceX, destX) and (sourceY, destX) for each destination scanline, and using yet another pair of lines to update the endpoints of these two lines for each new scanline.  This gave (un-antaliased) bitmap rotation at interactive speeds on stock hardware.  (Later, I found out that Live Picture actually cached its rotated images, so the existence proof that spurred me to work on this wasn't actually valid.)</p>

<p>I rewrote my program in Java five or six years later, and the interpreted Java version ran faster than the handcoded assembly version of 1989 did.  Then I simplified the program by using floating-point numbers instead of fixed-point numbers, and it's still faster.  That's what you see above.  So there's no longer any coding challenge in implementing this kind of thing, but it's still a nice effect.</p>

<a name="more"></a>


<span class="posted">Posted by osteele at May  7, 2003 10:38 AM
| <a href="http://www.osteele.com/mt/mt-tb.cgi?__mode=view&amp;entry_id=28" onclick="OpenTrackback(this.href); return false">TrackBack</a>

<br /></span>

</div>


<div class="comments-head"><a name="comments"></a>Comments</div>




<div class="comments-head">Post a comment</div>

<div class="comments-body">
<form method="post" action="http://www.osteele.com/mt/mt-comments.cgi" name="comments_form" onsubmit="if (this.bakecookie[0].checked) rememberMe(this)">
<input type="hidden" name="static" value="1" />
<input type="hidden" name="entry_id" value="28" />

<div style="width:180px; padding-right:15px; margin-right:15px; float:left; text-align:left; border-right:1px dotted #bbb;">
	<label for="author">Name:</label><br />
	<input tabindex="1" id="author" name="author" /><br /><br />

	<label for="email">Email Address:</label><br />
	<input tabindex="2" id="email" name="email" /><br /><br />

	<label for="url">URL:</label><br />
	<input tabindex="3" id="url" name="url" /><br /><br />
</div>

Remember personal info?<br />
<input type="radio" id="bakecookie" name="bakecookie" /><label for="bakecookie">Yes</label><input type="radio" id="forget" name="bakecookie" onclick="forgetMe(this.form)" value="Forget Info" style="margin-left: 15px;" /><label for="forget">No</label><br style="clear: both;" />

<label for="text">Comments:</label><br />
<textarea tabindex="4" id="text" name="text" rows="10" cols="50"></textarea><br /><br />

<input type="submit" name="preview" value="&nbsp;Preview&nbsp;" />
<input style="font-weight: bold;" type="submit" name="post" value="&nbsp;Post&nbsp;" /><br /><br />

</form>

<script type="text/javascript" language="javascript">
<!--
document.comments_form.email.value = getCookie("mtcmtmail");
document.comments_form.author.value = getCookie("mtcmtauth");
document.comments_form.url.value = getCookie("mtcmthome");
if (getCookie("mtcmtauth")) {
    document.comments_form.bakecookie[0].checked = true;
} else {
    document.comments_form.bakecookie[1].checked = true;
}
//-->
</script>
</div>


</div>
</div>
</body>
</html>
