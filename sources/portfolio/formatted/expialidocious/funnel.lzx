<html xmlns="http://www.w3.org/1999/xhtml">
   <head>
      <link rel="stylesheet" href="/stylesheets/lzx-viewer/styles.css" type="text/css"></link>
      <link rel="alternate stylesheet" title="Methods and Attributes" href="/stylesheets/lzx-viewer/methods-only.css" type="text/css"></link>
      <link rel="alternate stylesheet" title="No Methods or Attributes" href="/stylesheets/lzx-viewer/no-methods.css" type="text/css"></link>
      <title>funnel.lzx</title>
   </head>
   <body>
      <h1>funnel.lzx</h1><pre>
<span class="comment-markup">&lt;!--</span><span class="comment">
Copyright 2005-2006 Oliver Steele.  Some rights reserved.
$LastChangedDate: 2006-01-07 15:24:44 -0500 (Sat, 07 Jan 2006) $

This work is licensed under a Creative Commons Attribution-NonCommercial-ShareAlike 2.5 License:
http://creativecommons.org/licenses/by-nc-sa/2.5/.
</span><span class="comment-markup">--&gt;</span>
<span class="element"><span class="markup">&lt;</span><span class="starttag" id="d0e2">drawview</span> <span class="attrname">id</span>="<span class="attrvalue"><span class="name">funnel</span></span>" <span class="attrname">x</span>="<span class="attrvalue"><span class="constraint-markup">${</span><span class="constraint-expression">cloud.x</span><span class="constraint-markup">}</span></span>" <span class="attrname">width</span>="<span class="attrvalue"><span class="constraint-markup">${</span><span class="constraint-expression">cloud.width</span><span class="constraint-markup">}</span></span>" <span class="attrname">height</span>="<span class="attrvalue">50</span>"<span class="markup">&gt;</span>
  <span class="element"><span class="markup">&lt;</span><span class="starttag" id="d0e4">dateLabel</span> <span class="attrname">id</span>="<span class="attrvalue"><span class="name">currentStart</span></span>" <span class="attrname">align</span>="<span class="attrvalue">left</span>" <span class="attrname">valign</span>="<span class="attrvalue">bottom</span>"<span class="markup">/&gt;</span></span>
  <span class="element"><span class="markup">&lt;</span><span class="starttag" id="d0e6">dateLabel</span> <span class="attrname">id</span>="<span class="attrvalue"><span class="name">currentEnd</span></span>" <span class="attrname">align</span>="<span class="attrvalue">right</span>" <span class="attrname">valign</span>="<span class="attrvalue">bottom</span>"<span class="markup">/&gt;</span></span><span class="method-element-text"><code>
  </code></span><span class="element"><span class="markup">&lt;</span><span class="starttag" id="d0e8">method</span> <span class="attrname">name</span>="<span class="attrvalue"><span class="name">update</span></span>" <span class="attrname">event</span>="<span class="attrvalue">onx</span>" <span class="attrname">reference</span>="<span class="attrvalue">bars.selector</span>"<span class="markup">&gt;</span>
    var h = this.height;
    var r = 20; // rounding radius
    var x0 = cloud.getAttributeRelative('x', this)-10;
    var x1 = bars.selector.getAttributeRelative('x', this)-10;
    var x2 = x1+bars.selector.getAttributeRelative('width', this);
    var x3 = x0+cloud.getAttributeRelative('width', this);
    clear();
    beginPath();
    moveTo(x0, 0);
    quadraticCurveTo(x0, r, x0+r, r)
    lineTo(x1-r, h-r);
    quadraticCurveTo(x1, h-r, x1, h);
    lineTo(x2, h);
    quadraticCurveTo(x2, h-r, x2+r, h-r);
    lineTo(x3-r, r);
    quadraticCurveTo(x3, r, x3, 0);
    this.fillStyle = cloud.bgcolor;
    var g = this.createLinearGradient(0, 0, 0, h);
    g.addColorStop(0, cloud.bgcolor);
    g.addColorStop(1, bars.bgcolor);
    this.fillStyle = g;
    fill();
  <span class="markup">&lt;/</span><span class="endtag">method</span><span class="markup">&gt;</span></span><span class="method-element-text"><code>
  </code></span><span class="element"><span class="markup">&lt;</span><span class="starttag" id="d0e11">method</span> <span class="attrname">event</span>="<span class="attrvalue">onwidth</span>" <span class="attrname">reference</span>="<span class="attrvalue">bars.selector</span>"<span class="markup">&gt;</span>
    update();
  <span class="markup">&lt;/</span><span class="endtag">method</span><span class="markup">&gt;</span></span>
<span class="markup">&lt;/</span><span class="endtag">drawview</span><span class="markup">&gt;</span></span></pre><div class="references">
         <h2>Cross References</h2>
         <h3>Named Instances</h3>
         <ul class="nl">
            <li>&lt;dateLabel id="<a href="#d0e6">currentEnd</a>"&gt;
            </li> 
            <li>&lt;dateLabel id="<a href="#d0e4">currentStart</a>"&gt;
            </li> 
            <li>&lt;drawview id="<a href="#d0e2">funnel</a>"&gt;
            </li> 
            <li>&lt;method name="<a href="#d0e8">update</a>"&gt;
            </li> 
         </ul>
      </div>
      <hr></hr>
      <address>Generated by the OpenLaszlo Source Viewer, by Oliver Steele.</address>
   </body>
</html>